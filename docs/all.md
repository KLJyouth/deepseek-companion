# stanfai-司单服Ai智能安全法务 技术架构文档

1. 系统概述

stanfai-司单服Ai智能安全法务是广西港妙科技有限公司自主研发的智能安全法务管理系统，集成威胁检测、电子签约、合同归档、法务流程自动化等功能，采用三维可视化技术展示安全数据。系统采用 PHP + Node.js 混合架构，具有多层安全防护机制和量子安全加密体系。

2. 系统架构

2.1 整体架构

![系统架构图]

前端服务：Node.js + Three.js 可视化  
后端服务：PHP + MySQL  
实时通信：WebSocket + Ratchet  
安全层：量子加密 + 传统加密混合方案

2.2 技术栈

| 组件   | 技术选型                |
|--------|------------------------|
| 前端   | Node.js, Webpack, Three.js |
| 后端   | PHP 7.4+, MySQL 8.0+   |
| 安全   | AES-256-GCM, Kyber1024 |
| 实时通信 | WebSocket, Ratchet      |
| 缓存   | Redis, Memcached        |

3. 核心模块

3.1 认证授权系统

- 基础认证（用户名+密码）
- 设备指纹验证
- 地理位置验证
- 多因素认证（TOTP/生物识别）

3.2 电子签约与法务系统（本地自研）

- 合同模板创建与管理
- 合同实例生成与签名
- 本地合同存证与归档
- 法务流程自动化与归档
- 合同内容加密存储
- 合同签名与验证（RSA/ECC/国密算法可选）
- 合同归档与本地知识库

3.3 实时通信系统

- 基于Ratchet库
- 会话基础认证
- 临时令牌认证（1小时有效期）
- 数据库存储验证记录（ws_auth_tokens表）

4. 安全体系

- 混合加密策略（AES-256-GCM + Kyber1024）
- 密钥轮换机制
- 健康检查机制
- 多层级安全设计
- 内存安全擦除（sodium_memzero）

5. 数据库设计

- 用户、合同、签约、法务、审计、监控等核心表
- 所有合同、签约、法务数据均本地存储，不依赖第三方

6. 部署与测试

- 详见 [安全部署指南](/docs/security_deployment_guide.md)

7. 版权声明

本系统所有功能、模块、代码均为广西港妙科技有限公司自主研发，严禁抄袭仿冒。