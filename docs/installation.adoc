= å®‰è£…éƒ¨ç½²æŒ‡å—
:doctype: book
:toc:
:toclevels: 3

== 1. ç¯å¢ƒå‡†å¤‡

=== 1.1 ç³»ç»Ÿè¦æ±‚
[cols="1,2,1"]
|===
| ç»„ä»¶ | æœ€ä½è¦æ±‚ | æ¨èé…ç½®
| PHP | 7.4+ | 8.0+
| æ•°æ®åº“ | MySQL 5.7 | MySQL 8.0
| å†…å­˜ | 1GB | 4GB+
| å­˜å‚¨ | 10GB | SSD 50GB+
|===

=== 1.2 ç¯å¢ƒé…ç½®
```bash
# æ£€æŸ¥PHPç‰ˆæœ¬
php -v

# æ£€æŸ¥æ‰©å±•
php -m | grep -E 'pdo|openssl|json'
```

== 2. å®‰è£…æµç¨‹

=== 2.1 äº¤äº’å¼å®‰è£…
```terminal
$ php install.php --interactive
================================
 Stanfai æ™ºèƒ½å®‰è£…ç¨‹åº (v2.0)
================================
æ•°æ®åº“ä¸»æœº [localhost]: â–ˆ
```

=== 2.2 é™é»˜å®‰è£…
```bash
php install.php \
  --no-interactive \
  --skip-db \
  --parallel=8
```

=== 2.3 å®‰è£…åéªŒè¯
```bash
# æ£€æŸ¥å®‰è£…æ ‡è®°
cat storage/installed

# æµ‹è¯•æ•°æ®åº“è¿æ¥
php -r "new PDO('mysql:host=localhost;dbname=stanfai', 'root', '');"
```

== 3. é…ç½®ç®¡ç†

=== 3.1 ç¯å¢ƒå˜é‡
[source,env]
----
# .env ç¤ºä¾‹
DB_HOST=127.0.0.1
DB_PASSWORD=your_strong_password
TRANSLATION_PARALLEL=true
----

=== 3.2 æ ¸å¿ƒé…ç½®
```mermaid
graph TD
    A[.env] --> B[config/database.php]
    A --> C[config/translation.php]
    A --> D[config/monitoring.php]
```

== 4. ç»´æŠ¤æ“ä½œ

=== 4.1 æ—¥å¸¸ç»´æŠ¤
```bash
# æ›´æ–°ç¿»è¯‘
npm run translate -- --workers=4

# è´¨é‡æ£€æŸ¥
npm run report:terminology
```

=== 4.2 æ•…éšœæ’æŸ¥
[cols="1,3"]
|===
| é”™è¯¯ç°è±¡ | è§£å†³æ–¹æ¡ˆ
| æ•°æ®åº“è¿æ¥å¤±è´¥ | æ£€æŸ¥config/database.phpé…ç½®
| ç¿»è¯‘ä»»åŠ¡å¡ä½ | å¢åŠ --parallelå‚æ•°æˆ–å‡å°‘workersæ•°é‡
| ç›‘æ§æ•°æ®ç¼ºå¤± | æ£€æŸ¥storage/logs/monitoring.log
|===

== 5. è¿›é˜¶é…ç½®

=== 5.1 æ€§èƒ½è°ƒä¼˜
```ini
; ä¿®æ”¹php.ini
opcache.memory_consumption=128
opcache.max_accelerated_files=10000
```

=== 5.2 é«˜å¯ç”¨éƒ¨ç½²
```plantuml
@startuml
node "ä¸»èŠ‚ç‚¹" as master
node "ä»èŠ‚ç‚¹" as slave1
node "ä»èŠ‚ç‚¹" as slave2

master -[hidden]-> slave1
master -[hidden]-> slave2
@enduml
```

include::../config-reference.adoc[]

## å®‰è£…ç³»ç»Ÿå¢å¼ºå®Œæˆ

âœ… æ ¸å¿ƒé…ç½®æ–‡ä»¶

1. ç¯å¢ƒé…ç½®

.env.example - ç¯å¢ƒå˜é‡æ¨¡æ¿
bootstrap/env.php - ç¯å¢ƒåŠ è½½å™¨
2. æ¨¡å—é…ç½®

graph LR
    A[ç¿»è¯‘æ¨¡å—] --> B[è´¨é‡ç›‘æ§]
    A --> C[æ•°æ®åº“]
    B --> D[å‘Šè­¦ç³»ç»Ÿ]
3. éªŒè¯å·¥å…·

# æµ‹è¯•é…ç½®åŠ è½½
php -r "print_r(require 'config/translation.php');"

# æ£€æŸ¥ç¯å¢ƒå˜é‡
php -r "echo env('DB_HOST');"
ğŸ“Š é…ç½®å±‚æ¬¡ç»“æ„

ä¼˜å…ˆçº§	é…ç½®æº	ç¤ºä¾‹
1	ç¯å¢ƒå˜é‡	DB_HOST=127.0.0.1
2	é…ç½®æ–‡ä»¶	config/database.php
3	é»˜è®¤å€¼	'host' => 'localhost'
ğŸš€ ä½¿ç”¨å»ºè®®

1. å®‰è£…æµ‹è¯•

# äº¤äº’å¼å®‰è£…
php install.php --interactive

# é™é»˜å®‰è£…
php install.php --no-interactive --skip-db
2. è´¨é‡ç›‘æ§

# å¯åŠ¨ç›‘æ§
npm run monitor:quality --live

# ç”ŸæˆæŠ¥å‘Š
npm run report:terminology
3. ç»´æŠ¤å‘½ä»¤

# æ›´æ–°ç¿»è¯‘
npm run translate -- --workers=8

# æ¸…é™¤ç¼“å­˜
php artisan cache:clear
å®‰è£…ç³»ç»Ÿç°å·²å®Œå…¨é…ç½®ï¼Œå¯é€šè¿‡ç¯å¢ƒå˜é‡çµæ´»æ§åˆ¶å„æ¨¡å—è¡Œä¸ºã€‚